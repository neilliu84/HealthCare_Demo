<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <title>RegistrarContract</title>
    <style>
        pre {
            background: #E0F2F7;
        }
    </style>
</head>

<body translate="no">

    <h4>log : </h4>
    <pre id="log"></pre>

    <script src='web3.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>

    <script>
        function log(input) {
            if (typeof input === 'object')
                $('#log').text($('#log').text() + JSON.stringify(input, null, 2) + '\n')
            else
                $('#log').text($('#log').text() + input + '\n')
        }

        $(function() {
            // 連結 enode
            var web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'))
            var eth = web3.eth


            var simplestorageAbi = [{"constant":false,"inputs":[{"name":"id","type":"bytes32"},{"name":"id_address","type":"address"}],"name":"updateIdAddressToRegistries","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"id","type":"bytes32"},{"name":"name","type":"bytes32"}],"name":"updateNameToRegistries","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"checkAddress","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"seq","type":"uint256"}],"name":"checkTxnLogBySeq","outputs":[{"name":"","type":"uint256"},{"name":"","type":"bytes32"},{"name":"","type":"bytes32"},{"name":"","type":"address"},{"name":"","type":"address"},{"name":"","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"checkMsgSender","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"checkRegistriesSize","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"id","type":"bytes32"}],"name":"removeFromRegistries","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"id","type":"bytes32"},{"name":"sc_address","type":"address"}],"name":"updateSCAddressToRegistries","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"id","type":"bytes32"},{"name":"name","type":"bytes32"},{"name":"id_address","type":"address"},{"name":"sc_address","type":"address"}],"name":"addToRegistries","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"id","type":"bytes32"}],"name":"checkRegistries","outputs":[{"name":"","type":"bytes32"},{"name":"","type":"address"},{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"checkTxnLogSize","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"id","type":"bytes32"},{"name":"name","type":"bytes32"},{"name":"id_address","type":"address"},{"name":"sc_address","type":"address"}],"name":"updateAllToRegistries","outputs":[],"payable":false,"type":"function"},{"inputs":[{"name":"register_account","type":"address"}],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"bytes32"},{"indexed":false,"name":"name","type":"bytes32"},{"indexed":false,"name":"id_address","type":"address"},{"indexed":false,"name":"sc_adress","type":"address"}],"name":"EventForAddToRegistries","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"bytes32"}],"name":"EventForRemoveFromRegistries","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"bytes32"},{"indexed":false,"name":"name","type":"bytes32"},{"indexed":false,"name":"id_address","type":"address"},{"indexed":false,"name":"sc_adress","type":"address"}],"name":"EventForUpdateToRegistries","type":"event"}];

			alert(web3.eth.accounts[0])
            var simplestorageContract = web3.eth.contract(simplestorageAbi)

            var simplestorage = simplestorageContract.new(
                web3.eth.accounts[0],
                {
                    from: web3.eth.accounts[0],
                    data: '0x6060604052341561000c57fe5b60405160208061214c833981016040528080519060200190919050505b80600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b505b6120d08061007c6000396000f300606060405236156100b8576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806305233cc7146100ba5780631001f96c146100fd5780631256fa531461012e578063443831de146101805780634cd3d5ca1461024757806353fe9b25146102995780636a10f7a9146102bf5780638993f232146102e3578063a631740014610326578063a69456a114610395578063bd5270d21461043b578063efac43da14610461575bfe5b34156100c257fe5b6100fb60048080356000191690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506104d0565b005b341561010557fe5b61012c600480803560001916906020019091908035600019169060200190919050506108d2565b005b341561013657fe5b61013e610cde565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561018857fe5b61019e6004808035906020019091905050610ce7565b60405180878152602001866000191660001916815260200185600019166000191681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018260001916600019168152602001965050505050505060405180910390f35b341561024f57fe5b610257610e09565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156102a157fe5b6102a9610e12565b6040518082815260200191505060405180910390f35b34156102c757fe5b6102e1600480803560001916906020019091905050610e20565b005b34156102eb57fe5b61032460048080356000191690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061130f565b005b341561032e57fe5b6103936004808035600019169060200190919080356000191690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611711565b005b341561039d57fe5b6103b7600480803560001916906020019091905050611b95565b6040518084600019166000191681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001935050505060405180910390f35b341561044357fe5b61044b611c4f565b6040518082815260200191505060405180910390f35b341561046957fe5b6104ce6004808035600019169060200190919080356000191690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611c5d565b005b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156108c65760006003016000846000191660001916815260200190815260200160002060009054906101000a900460ff16156105be578160006002016000856000191660001916815260200190815260200160002060020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506105c4565b60006000fd5b42905060016004600001540160046000018190555060c06040519081016040528082815260200184600019168152602001600060020160008660001916600019168152602001908152602001600020600101546000191681526020018373ffffffffffffffffffffffffffffffffffffffff16815260200160006002016000866000191660001916815260200190815260200160002060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020017f5550444154455f494441444452455353000000000000000000000000000000006000191681525060046001016000600460000154815260200190815260200160002060008201518160000155602082015181600101906000191690556040820151816002019060001916905560608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060808201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a082015181600501906000191690559050507f48c04f14875cb4806a1a14f3d7190ca5a5749348524b5e1c3e072adff94e32e683600060020160008660001916600019168152602001908152602001600020600101548460006002016000886000191660001916815260200190815260200160002060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660405180856000191660001916815260200184600019166000191681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200194505050505060405180910390a15b6108cc565b60006000fd5b5b505050565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415610cd25760006003016000846000191660001916815260200190815260200160002060009054906101000a900460ff161561098a57816000600201600085600019166000191681526020019081526020016000206001018160001916905550610990565b60006000fd5b42905060016004600001540160046000018190555060c060405190810160405280828152602001846000191681526020018360001916815260200160006002016000866000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160006002016000866000191660001916815260200190815260200160002060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020017f5550444154455f4e414d450000000000000000000000000000000000000000006000191681525060046001016000600460000154815260200190815260200160002060008201518160000155602082015181600101906000191690556040820151816002019060001916905560608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060808201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a082015181600501906000191690559050507f48c04f14875cb4806a1a14f3d7190ca5a5749348524b5e1c3e072adff94e32e6838360006002016000876000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660006002016000886000191660001916815260200190815260200160002060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660405180856000191660001916815260200184600019166000191681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200194505050505060405180910390a15b610cd8565b60006000fd5b5b505050565b60003090505b90565b600060006000600060006000600060006000600060006000600460010160008e8152602001908152602001600020600001549550600460010160008e8152602001908152602001600020600101549450600460010160008e8152602001908152602001600020600201549350600460010160008e815260200190815260200160002060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169250600460010160008e815260200190815260200160002060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169150600460010160008e81526020019081526020016000206005015490508585858585859b509b509b509b509b509b505b50505050505091939550919395565b60003390505b90565b600060006000015490505b90565b600060006000600060006000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156112ff5760006000600001541415610e965760006000fd5b60006002016000886000191660001916815260200190815260200160002060010154955060006002016000886000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16945060006002016000886000191660001916815260200190815260200160002060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16935060006003016000886000191660001916815260200190815260200160002060009054906101000a900460ff1615611133576000600101805490509250600091505b8282101561101d578660001916600060010183815481101515610fa257fe5b906000526020600020900160005b505460001916141561100f57600060010160018403815481101515610fd157fe5b906000526020600020900160005b5054600060010183815481101515610ff357fe5b906000526020600020900160005b50816000191690555061101d565b5b8180600101925050610f83565b600060010160016000600001540381548110151561103757fe5b906000526020600020900160005b506000905560006001018054809190600190036110629190612027565b506000600201600088600019166000191681526020019081526020016000206000600082016000905560018201600090556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556003820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690555050600060006003016000896000191660001916815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600060000160008282540392505081905550611139565b60006000fd5b42905060016004600001540160046000018190555060c06040519081016040528082815260200188600019168152602001876000191681526020018673ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff1681526020017f52454d4f564500000000000000000000000000000000000000000000000000006000191681525060046001016000600460000154815260200190815260200160002060008201518160000155602082015181600101906000191690556040820151816002019060001916905560608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060808201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a082015181600501906000191690559050507fb4cbf4232e3bb89f9e045adee39fdad1f090c71c55e4d2824d9250ce39c1fa838760405180826000191660001916815260200191505060405180910390a15b611305565b60006000fd5b5b50505050505050565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156117055760006003016000846000191660001916815260200190815260200160002060009054906101000a900460ff16156113fd578160006002016000856000191660001916815260200190815260200160002060030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550611403565b60006000fd5b42905060016004600001540160046000018190555060c060405190810160405280828152602001846000191681526020016000600201600086600019166000191681526020019081526020016000206001015460001916815260200160006002016000866000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1681526020017f5550444154455f534341444452455353000000000000000000000000000000006000191681525060046001016000600460000154815260200190815260200160002060008201518160000155602082015181600101906000191690556040820151816002019060001916905560608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060808201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a082015181600501906000191690559050507f48c04f14875cb4806a1a14f3d7190ca5a5749348524b5e1c3e072adff94e32e6836000600201600086600019166000191681526020019081526020016000206001015460006002016000876000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168560405180856000191660001916815260200184600019166000191681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200194505050505060405180910390a15b61170b565b60006000fd5b5b505050565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415611b875760006003016000866000191660001916815260200190815260200160002060009054906101000a900460ff16151561194357600060010180548060010182816117b29190612053565b916000526020600020900160005b8790919091509060001916905550600160006003016000876000191660001916815260200190815260200160002060006101000a81548160ff02191690831515021790555060806040519081016040528086600019168152602001856000191681526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff16815250600060020160008760001916600019168152602001908152602001600020600082015181600001906000191690556020820151816001019060001916905560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055509050506001600060000160008282540192505081905550611949565b60006000fd5b42905060016004600001540160046000018190555060c06040519081016040528082815260200186600019168152602001856000191681526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1681526020017f41444400000000000000000000000000000000000000000000000000000000006000191681525060046001016000600460000154815260200190815260200160002060008201518160000155602082015181600101906000191690556040820151816002019060001916905560608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060808201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a082015181600501906000191690559050507fb8193af6ac07b9544bfd8bf1bd482e0b0ca32ba8f68df2b04c3d1df15a49ee168585858560405180856000191660001916815260200184600019166000191681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200194505050505060405180910390a15b611b8d565b60006000fd5b5b5050505050565b6000600060006000600201600085600019166000191681526020019081526020016000206001015460006002016000866000191660001916815260200190815260200160002060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660006002016000876000191660001916815260200190815260200160002060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169250925092505b9193909250565b600060046000015490505b90565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156120195760006003016000866000191660001916815260200190815260200160002060009054906101000a900460ff1615611dd5578360006002016000876000191660001916815260200190815260200160002060010181600019169055508260006002016000876000191660001916815260200190815260200160002060020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508160006002016000876000191660001916815260200190815260200160002060030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550611ddb565b60006000fd5b42905060016004600001540160046000018190555060c06040519081016040528082815260200186600019168152602001856000191681526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1681526020017f55504441544500000000000000000000000000000000000000000000000000006000191681525060046001016000600460000154815260200190815260200160002060008201518160000155602082015181600101906000191690556040820151816002019060001916905560608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060808201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a082015181600501906000191690559050507f48c04f14875cb4806a1a14f3d7190ca5a5749348524b5e1c3e072adff94e32e68585858560405180856000191660001916815260200184600019166000191681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200194505050505060405180910390a15b61201f565b60006000fd5b5b5050505050565b81548183558181151161204e5781836000526020600020918201910161204d919061207f565b5b505050565b81548183558181151161207a57818360005260206000209182019101612079919061207f565b5b505050565b6120a191905b8082111561209d576000816000905550600101612085565b5090565b905600a165627a7a72305820f747e8f01175245a8f6de5227d0fab71c6965014acdbef0b8eeb12def961527a0029',gas: 4700000
                },
                function(e, contract) {
                    alert(contract)
                    if (typeof contract.address !== 'undefined') {
                        log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash)
                    }
                })

        })

    </script>
</body>

</html>